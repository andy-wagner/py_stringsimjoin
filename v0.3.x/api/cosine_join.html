

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cosine Join &mdash; py_stringsimjoin 0.3.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="py_stringsimjoin 0.3.0 documentation" href="../index.html"/>
        <link rel="up" title="Joins" href="join.html"/>
        <link rel="next" title="Dice Join" href="dice_join.html"/>
        <link rel="prev" title="Joins" href="join.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> py_stringsimjoin
          

          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../whatisnew.html">What is New?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cython.html">Disabling Cython</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="profiler.html">Profilers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="join.html">Joins</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Cosine Join</a></li>
<li class="toctree-l2"><a class="reference internal" href="dice_join.html">Dice Join</a></li>
<li class="toctree-l2"><a class="reference internal" href="edit_distance_join.html">Edit Distance Join</a></li>
<li class="toctree-l2"><a class="reference internal" href="jaccard_join.html">Jaccard Join</a></li>
<li class="toctree-l2"><a class="reference internal" href="overlap_join.html">Overlap Join</a></li>
<li class="toctree-l2"><a class="reference internal" href="overlap_coefficient_join.html">Overlap Coefficient Join</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="filter.html">Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="matcher.html">Matchers</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility.html">Utilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">py_stringsimjoin</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="join.html">Joins</a> &raquo;</li>
      
    <li>Cosine Join</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/cosine_join.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cosine-join">
<h1>Cosine Join<a class="headerlink" href="#cosine-join" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="py_stringsimjoin.join.cosine_join.cosine_join">
<code class="descclassname">py_stringsimjoin.join.cosine_join.</code><code class="descname">cosine_join</code><span class="sig-paren">(</span><em>ltable</em>, <em>rtable</em>, <em>l_key_attr</em>, <em>r_key_attr</em>, <em>l_join_attr</em>, <em>r_join_attr</em>, <em>tokenizer</em>, <em>threshold</em>, <em>comp_op='&gt;='</em>, <em>allow_empty=True</em>, <em>allow_missing=False</em>, <em>l_out_attrs=None</em>, <em>r_out_attrs=None</em>, <em>l_out_prefix='l_'</em>, <em>r_out_prefix='r_'</em>, <em>out_sim_score=True</em>, <em>n_jobs=1</em>, <em>show_progress=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/py_stringsimjoin/join/cosine_join.html#cosine_join"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_stringsimjoin.join.cosine_join.cosine_join" title="Permalink to this definition">¶</a></dt>
<dd><p>Join two tables using a variant of cosine similarity known as Ochiai
coefficient.</p>
<p>This is not the cosine measure that computes the cosine of the angle
between two given vectors. Rather, it is a variant of cosine measure known
as Ochiai coefficient (see the Wikipedia page
<a class="reference external" href="https://en.wikipedia.org/wiki/Cosine_similarity">Cosine Similarity</a>).
Specifically, for two sets X and Y, this measure computes:</p>
<blockquote>
<div><span class="math">\(cosine(X, Y) = \frac{|X \cap Y|}{\sqrt{|X| \cdot |Y|}}\)</span></div></blockquote>
<p>In the case where one of X and Y is an empty set and the other is a
non-empty set, we define their cosine score to be 0. In the case where both
X and Y are empty sets, we define their cosine score to be 1.</p>
<p>Finds tuple pairs from left table and right table such that the cosine
similarity between the join attributes satisfies the condition on input
threshold. For example, if the comparison operator is &#8216;&gt;=&#8217;, finds tuple
pairs whose cosine similarity between the strings that are the values of
the join attributes is greater than or equal to the input threshold, as
specified in &#8220;threshold&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ltable</strong> (<em>DataFrame</em>) &#8211; left input table.</li>
<li><strong>rtable</strong> (<em>DataFrame</em>) &#8211; right input table.</li>
<li><strong>l_key_attr</strong> (<em>string</em>) &#8211; key attribute in left table.</li>
<li><strong>r_key_attr</strong> (<em>string</em>) &#8211; key attribute in right table.</li>
<li><strong>l_join_attr</strong> (<em>string</em>) &#8211; join attribute in left table.</li>
<li><strong>r_join_attr</strong> (<em>string</em>) &#8211; join attribute in right table.</li>
<li><strong>tokenizer</strong> (<em>Tokenizer</em>) &#8211; tokenizer to be used to tokenize join
attributes.</li>
<li><strong>threshold</strong> (<em>float</em>) &#8211; cosine similarity threshold to be satisfied.</li>
<li><strong>comp_op</strong> (<em>string</em>) &#8211; comparison operator. Supported values are &#8216;&gt;=&#8217;, &#8216;&gt;&#8217;
and &#8216;=&#8217; (defaults to &#8216;&gt;=&#8217;).</li>
<li><strong>allow_empty</strong> (<em>boolean</em>) &#8211; flag to indicate whether tuple pairs with empty
set of tokens in both the join attributes should be included in the
output (defaults to True).</li>
<li><strong>allow_missing</strong> (<em>boolean</em>) &#8211; flag to indicate whether tuple pairs with
missing value in at least one of the join attributes should be
included in the output (defaults to False). If this flag is set to
True, a tuple in ltable with missing value in the join attribute
will be matched with every tuple in rtable and vice versa.</li>
<li><strong>l_out_attrs</strong> (<em>list</em>) &#8211; list of attribute names from the left table to be
included in the output table (defaults to None).</li>
<li><strong>r_out_attrs</strong> (<em>list</em>) &#8211; list of attribute names from the right table to be
included in the output table (defaults to None).</li>
<li><strong>l_out_prefix</strong> (<em>string</em>) &#8211; prefix to be used for the attribute names coming
from the left table, in the output table (defaults to &#8216;l_&#8217;).</li>
<li><strong>r_out_prefix</strong> (<em>string</em>) &#8211; prefix to be used for the attribute names coming
from the right table, in the output table (defaults to &#8216;r_&#8217;).</li>
<li><strong>out_sim_score</strong> (<em>boolean</em>) &#8211; flag to indicate whether similarity score
should be included in the output table (defaults to True). Setting
this flag to True will add a column named &#8216;_sim_score&#8217; in the
output table. This column will contain the similarity scores for the
tuple pairs in the output.</li>
<li><strong>n_jobs</strong> (<em>int</em>) &#8211; number of parallel jobs to use for the computation
(defaults to 1). If -1 is given, all CPUs are used. If 1 is given,
no parallel computing code is used at all, which is useful for
debugging. For n_jobs below -1, (n_cpus + 1 + n_jobs) are used
(where n_cpus is the total number of CPUs in the machine). Thus for
n_jobs = -2, all CPUs but one are used. If (n_cpus + 1 + n_jobs)
becomes less than 1, then no parallel computing code will be used
(i.e., equivalent to the default).</li>
<li><strong>show_progress</strong> (<em>boolean</em>) &#8211; flag to indicate whether task progress should
be displayed to the user (defaults to True).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An output table containing tuple pairs that satisfy the join
condition (DataFrame).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dice_join.html" class="btn btn-neutral float-right" title="Dice Join" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="join.html" class="btn btn-neutral" title="Joins" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, anhaidgroup.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>